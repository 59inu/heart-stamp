# Heart Stamp Diary - ν”„λ΅μ νΈ λ¬Έμ„

Heart Stamp Diaryμ μ „μ²΄ μ‹μ¤ν… κµ¬μ΅°μ™€ μ‘λ™ μ›λ¦¬λ¥Ό μ„¤λ…ν•λ” λ¬Έμ„ λ¨μμ…λ‹λ‹¤.

## π“ λ¬Έμ„ λ©λ΅

### 1. [μΈν”„λΌ κµ¬μ„± (INFRASTRUCTURE.md)](./INFRASTRUCTURE.md)

ν΄λΌμ°λ“ μΈν”„λΌμ™€ λ°°ν¬ ν™κ²½μ„ μ„¤λ…ν•©λ‹λ‹¤.

**μ£Όμ” λ‚΄μ©**:
- Railway λ°±μ—”λ“ νΈμ¤ν…
- AWS S3 μ΄λ―Έμ§€ μ¤ν† λ¦¬μ§€
- Firebase Admin SDK (ν‘Έμ‹ μ•λ¦Ό)
- Claude API ν†µν•©
- Sentry μ—λ¬ μ¶”μ 
- ν™κ²½ λ³€μ μ„¤μ •
- λ°±μ—… μ „λµ

**μ΄λ° λ¶„λ“¤μ—κ² μ¶”μ²**:
- λ°°ν¬ ν™κ²½μ„ μ΄ν•΄ν•κ³  μ‹¶μ€ κ²½μ°
- ν™κ²½ λ³€μ μ„¤μ •μ΄ ν•„μ”ν• κ²½μ°
- ν΄λΌμ°λ“ μ„λΉ„μ¤ μ—°λ™μ„ ν™•μΈν•κ³  μ‹¶μ€ κ²½μ°

---

### 2. [μ„λ²„ μ•„ν‚¤ν…μ² (ARCHITECTURE.md)](./ARCHITECTURE.md)

λ°±μ—”λ“ μ„λ²„μ μ„¤κ³„μ™€ μ‘λ™ λ°©μ‹μ„ μ„¤λ…ν•©λ‹λ‹¤.

**μ£Όμ” λ‚΄μ©**:
- Express μ„λ²„ κµ¬μ΅°
- API λΌμ°νΈ μ„¤κ³„
- μ”μ²­ μ²λ¦¬ ν”λ΅μ°
- λ°°μΉ μ‘μ—… (AI λ¶„μ„, λ°±μ—…)
- μ„λΉ„μ¤ κ°„ ν†µμ‹ 
- μ—λ¬ μ²λ¦¬ μ „λµ
- μ„±λ¥ μµμ ν™”

**μ΄λ° λ¶„λ“¤μ—κ² μ¶”μ²**:
- μ„λ²„ μ „μ²΄ κµ¬μ΅°λ¥Ό μ΄ν•΄ν•κ³  μ‹¶μ€ κ²½μ°
- API μ—”λ“ν¬μΈνΈλ¥Ό ν™•μΈν•κ³  μ‹¶μ€ κ²½μ°
- λ°°μΉ μ‘μ—… μ¤μΌ€μ¤„μ„ μ•κ³  μ‹¶μ€ κ²½μ°

---

### 3. [λ³΄μ• μ „λµ (SECURITY.md)](./SECURITY.md)

λ°μ΄ν„° λ³΄νΈμ™€ λ³΄μ• μ„¤κ³„λ¥Ό μ„¤λ…ν•©λ‹λ‹¤.

**μ£Όμ” λ‚΄μ©**:
- AES-256-GCM μ•”νΈν™”
- Rate Limiting (DDoS λ°©μ–΄)
- CORS μ„¤μ •
- SQL Injection λ°©μ–΄
- μ†ν”„νΈ μ‚­μ  (Soft Delete)
- λ™μ‹μ„± μ μ–΄
- Sentry κ°μΈμ •λ³΄ λ³΄νΈ
- λ³΄μ• μ²΄ν¬λ¦¬μ¤νΈ

**μ΄λ° λ¶„λ“¤μ—κ² μ¶”μ²**:
- λ°μ΄ν„° μ•”νΈν™” λ°©μ‹μ„ μ΄ν•΄ν•κ³  μ‹¶μ€ κ²½μ°
- λ³΄μ• μ·¨μ•½μ μ„ μ κ²€ν•κ³  μ‹¶μ€ κ²½μ°
- κ°μΈμ •λ³΄ λ³΄νΈ λ°©μ‹μ„ ν™•μΈν•κ³  μ‹¶μ€ κ²½μ°

---

### 4. [μΈμ¦ μ „λµ (AUTHENTICATION.md)](./AUTHENTICATION.md)

μ‚¬μ©μ μΈμ¦κ³Ό μ„Έμ… κ΄€λ¦¬λ¥Ό μ„¤λ…ν•©λ‹λ‹¤.

**μ£Όμ” λ‚΄μ©**:
- κ°λ° λ¨λ“ μΈμ¦ (x-user-id)
- ν”„λ΅λ•μ… μΈμ¦ (Firebase)
- κ΄€λ¦¬μ μΈμ¦ (ADMIN_SECRET)
- μΈμ¦ ν”λ΅μ° λΉ„κµ
- ν† ν° κ΄€λ¦¬
- ν™κ²½ μ „ν™ κ°€μ΄λ“

**μ΄λ° λ¶„λ“¤μ—κ² μ¶”μ²**:
- μΈμ¦ μ‹μ¤ν…μ„ μ΄ν•΄ν•κ³  μ‹¶μ€ κ²½μ°
- κ°λ°/ν”„λ΅λ•μ… μ „ν™ λ°©λ²•μ„ μ•κ³  μ‹¶μ€ κ²½μ°
- Firebase Auth ν†µν•© λ°©λ²•μ„ ν™•μΈν•κ³  μ‹¶μ€ κ²½μ°

---

### 5. [λ°μ΄ν„°λ² μ΄μ¤ μ„¤κ³„ (DATABASE.md)](./DATABASE.md)

SQLite λ°μ΄ν„°λ² μ΄μ¤ κµ¬μ΅°μ™€ κ΄€λ¦¬λ¥Ό μ„¤λ…ν•©λ‹λ‹¤.

**μ£Όμ” λ‚΄μ©**:
- ν…μ΄λΈ” μ¤ν‚¤λ§ (diaries, push_tokens, reports)
- μΈλ±μ¤ μ„¤κ³„
- SQLite μµμ ν™” (WAL, μΊμ‹, busy timeout)
- μ•”νΈν™” ν†µν•©
- λ™μ‹μ„± μ μ–΄ (Optimistic Locking)
- μ†ν”„νΈ μ‚­μ  μ „λµ
- λ°±μ—… λ° λ³µμ›
- λ§μ΄κ·Έλ μ΄μ… μ „λµ

**μ΄λ° λ¶„λ“¤μ—κ² μ¶”μ²**:
- λ°μ΄ν„°λ² μ΄μ¤ κµ¬μ΅°λ¥Ό μ΄ν•΄ν•κ³  μ‹¶μ€ κ²½μ°
- μ„±λ¥ μµμ ν™” λ°©λ²•μ„ μ•κ³  μ‹¶μ€ κ²½μ°
- λ°μ΄ν„° λ§μ΄κ·Έλ μ΄μ…μ΄ ν•„μ”ν• κ²½μ°

---

### 6. [AI ν†µν•© (AI_INTEGRATION.md)](./AI_INTEGRATION.md)

Claude AI ν†µν•©κ³Ό μλ™ν™” μ‘μ—…μ„ μ„¤λ…ν•©λ‹λ‹¤.

**μ£Όμ” λ‚΄μ©**:
- Claude 3.5 Haiku μ‚¬μ©
- ν”„λ΅¬ν”„νΈ μ„¤κ³„
- λ°°μΉ λ¶„μ„ μ‘μ—… (μƒλ²½ 3μ‹)
- ν‘Έμ‹ μ•λ¦Ό μ‘μ—… (μ•„μΉ¨ 8μ‹ 30λ¶„)
- Circuit Breaker ν¨ν„΄
- μ¬μ‹λ„ λ΅μ§
- λΉ„μ© μµμ ν™”
- μ—λ¬ μ²λ¦¬

**μ΄λ° λ¶„λ“¤μ—κ² μ¶”μ²**:
- AI λ¶„μ„ μ‘λ™ λ°©μ‹μ„ μ΄ν•΄ν•κ³  μ‹¶μ€ κ²½μ°
- λ°°μΉ μ‘μ—… μ¤μΌ€μ¤„μ„ ν™•μΈν•κ³  μ‹¶μ€ κ²½μ°
- Claude API λΉ„μ©μ„ μμΈ΅ν•κ³  μ‹¶μ€ κ²½μ°

---

## π― λΉ λ¥Έ μ‹μ‘ κ°€μ΄λ“

### μ²μ μ‹μ‘ν•λ” κ²½μ°

1. **[μΈν”„λΌ κµ¬μ„±](./INFRASTRUCTURE.md)** λ¨Όμ € μ½κΈ°
   - μ „μ²΄ μ‹μ¤ν… κµ¬μ΅° νμ•…
   - ν™κ²½ λ³€μ μ„¤μ • μ΄ν•΄

2. **[μ„λ²„ μ•„ν‚¤ν…μ²](./ARCHITECTURE.md)** μ½κΈ°
   - λ°±μ—”λ“ κµ¬μ΅° μ΄ν•΄
   - API μ—”λ“ν¬μΈνΈ ν™•μΈ

3. **ν•„μ”μ— λ”°λΌ μ„Έλ¶€ λ¬Έμ„ μ°Έμ΅°**

### λ°°ν¬κ°€ ν•„μ”ν• κ²½μ°

1. **[μΈν”„λΌ κµ¬μ„±](./INFRASTRUCTURE.md)** β†’ Railway λ°°ν¬ μ„Ήμ…
2. **[λ³΄μ• μ „λµ](./SECURITY.md)** β†’ ν™κ²½ λ³€μ μ²΄ν¬λ¦¬μ¤νΈ
3. **[μΈμ¦ μ „λµ](./AUTHENTICATION.md)** β†’ ν™κ²½ μ „ν™ κ°€μ΄λ“

### λ¬Έμ  ν•΄κ²°μ΄ ν•„μ”ν• κ²½μ°

1. **λ°μ΄ν„°λ² μ΄μ¤ μ—λ¬** β†’ [DATABASE.md](./DATABASE.md) β†’ νΈλ¬λΈ”μν…
2. **μΈμ¦ μ‹¤ν¨** β†’ [AUTHENTICATION.md](./AUTHENTICATION.md) β†’ μΈμ¦ ν”λ΅μ°
3. **AI λ¶„μ„ μ¤λ¥** β†’ [AI_INTEGRATION.md](./AI_INTEGRATION.md) β†’ μ—λ¬ μ²λ¦¬

---

## π“ μ£Όμ” κΈ°μ  μ¤νƒ

### λ°±μ—”λ“
- **λ°νƒ€μ„**: Node.js 18+
- **ν”„λ μ„μ›ν¬**: Express.js
- **λ°μ΄ν„°λ² μ΄μ¤**: SQLite (better-sqlite3)
- **AI**: Claude 3.5 Haiku
- **ν΄λΌμ°λ“**: Railway, AWS S3
- **ν‘Έμ‹ μ•λ¦Ό**: Firebase Admin SDK

### ν”„λ΅ νΈμ—”λ“
- **ν”„λ μ„μ›ν¬**: React Native (Expo)
- **μ–Έμ–΄**: TypeScript
- **λ„¤λΉ„κ²μ΄μ…**: React Navigation
- **μƒνƒ κ΄€λ¦¬**: AsyncStorage
- **μ—λ¬ μ¶”μ **: Sentry

### λ³΄μ•
- **μ•”νΈν™”**: AES-256-GCM
- **μΈμ¦**: Firebase Auth
- **μ „μ†΅ μ•”νΈν™”**: HTTPS/TLS
- **Rate Limiting**: express-rate-limit

---

## π”— κ΄€λ ¨ λ§ν¬

- **GitHub Repository**: (μ¶”κ°€ μμ •)
- **Railway Dashboard**: https://railway.app
- **Firebase Console**: https://console.firebase.google.com
- **AWS S3 Console**: https://console.aws.amazon.com/s3
- **Claude API Docs**: https://docs.anthropic.com
- **Sentry Dashboard**: https://sentry.io

---

## π“ λ¬Έμ„ μ—…λ°μ΄νΈ μ΄λ ¥

### 2025-11-08
- β… μ΄κΈ° λ¬Έμ„ μ‘μ„±
- β… 6κ° μ£Όμ” λ¬Έμ„ μ™„μ„±
  - INFRASTRUCTURE.md
  - ARCHITECTURE.md
  - SECURITY.md
  - AUTHENTICATION.md
  - DATABASE.md
  - AI_INTEGRATION.md

---

## π¤ κΈ°μ—¬ κ°€μ΄λ“

λ¬Έμ„ κ°μ„  μ μ•μ΄λ‚ μ¤νƒ€ μμ •μ€ μ–Έμ λ“  ν™μν•©λ‹λ‹¤!

1. λ¬Έμ„ μ¤λ¥ λ°κ²¬ μ‹ μ΄μ μƒμ„±
2. κ°μ„  μ μ• μ‚¬ν•­ κ³µμ 
3. μƒλ΅μ΄ μ„Ήμ… μ¶”κ°€ μ μ•

---

## π“ λ¬Έμ

κΈ°μ μ  μ§λ¬Έμ΄λ‚ λ¬Έμ„ κ΄€λ ¨ λ¬Έμμ‚¬ν•­μ΄ μμΌμ‹λ©΄ μ—°λ½μ£Όμ„Έμ”.

---

**λ§μ§€λ§‰ μ—…λ°μ΄νΈ**: 2025-11-08
**μ‘μ„±μ**: Heart Stamp Diary Team
